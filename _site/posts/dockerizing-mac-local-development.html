<!doctype html>
<html lang="en">
<head>
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>This is me. | Getting started with local web development using Docker on the Mac</title>
  <meta name="description" content="Docker makes it easier to create a scalable local web development environment.">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="Getting started with local web development using Docker on the Mac">
  <meta property="og:type" content="website">
  <meta property="og:url" content="http://localhost:4000/posts/dockerizing-mac-local-development">
  <meta property="og:description" content="Docker makes it easier to create a scalable local web development environment.">
  <meta property="og:site_name" content="This is me.">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="http://localhost:4000/posts/dockerizing-mac-local-development">
  <meta name="twitter:title" content="Getting started with local web development using Docker on the Mac">
  <meta name="twitter:description" content="Docker makes it easier to create a scalable local web development environment.">

  
    
      <meta property="og:image" content="http://localhost:4000/assets/documentation/sample-image-0a264584b152aa8d86f61525d05ae1131787d0a1029aa1cb7e3e4148b5d34755.jpg">
      <meta name="twitter:image" content="http://localhost:4000/assets/documentation/sample-image-0a264584b152aa8d86f61525d05ae1131787d0a1029aa1cb7e3e4148b5d34755.jpg">
    
  

  <link href="http://localhost:4000/feed.xml" type="application/rss+xml" rel="alternate" title="This is me. Last 10 blog posts" />
  <link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet">

  

  
    <link rel="icon" type="image/x-icon" href="/assets/favicon-light-a98c41efc5ed9fcc06ac664c9e2f7a9b3c3b2e0a52357d221fe382f6f4abc8fc.ico">
    <link rel="apple-touch-icon" href="/assets/apple-touch-icon-light-87d1f2a3a19b1500e5c1626a0492025ca5f7f97d24540dc5900288e92112925a.png">
    <link rel="stylesheet" type="text/css" href="/assets/light-27fee4ce7e06f3c3a8c29febe32489e33adfdb8e76d27142f537e95ee8be28ee.css">
  
</head>

<body>
  <main>
    <div class="grid grid-centered">
      <div class="grid-cell">
        <nav class="header-nav scrollappear">
  <a href="/" class="header-logo"
    title="This is me.">This is me.</a>
  <ul class="header-links">
    
      <li>
        <a href="/about" title="About me">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-about">
  <use href="/assets/about-ecf154b571ab8034ae00aeed91a3b7ad68db80b46d958753ad6216c919486e88.svg#icon-about" xlink:href="/assets/about-ecf154b571ab8034ae00aeed91a3b7ad68db80b46d958753ad6216c919486e88.svg#icon-about"></use>
</svg>

        </a>
      </li>
    
    
      <li>
        <a href="https://twitter.com/howardpanton"
          rel="noreferrer noopener" target="_blank" title="Twitter">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-twitter">
  <use href="/assets/twitter-8842c33965263ad1b03a978406826677a668f94125d5837e70ab83f24b3213a7.svg#icon-twitter" xlink:href="/assets/twitter-8842c33965263ad1b03a978406826677a668f94125d5837e70ab83f24b3213a7.svg#icon-twitter"></use>
</svg>

        </a>
      </li>
    
    
    
    
      <li>
        <a href="https://github.com/howardpanton"
          rel="noreferrer noopener" target="_blank" title="GitHub">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-github">
  <use href="/assets/github-094f81040819f34343ee6ffff0980f17e2807b08b595eaaf66ae3554934fd78d.svg#icon-github" xlink:href="/assets/github-094f81040819f34343ee6ffff0980f17e2807b08b595eaaf66ae3554934fd78d.svg#icon-github"></use>
</svg>

        </a>
      </li>
    
    
    
      <li>
        <a href="https://bitbucket.org/howardpanton" rel="noreferrer noopener" target="_blank" title="Bitbucket">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-bitbucket">
  <use href="/assets/bitbucket-5ae511b4ef21bde0943cce86f0cee6cf914e21a6ea7ff9670f14e41cab1cef30.svg#icon-bitbucket" xlink:href="/assets/bitbucket-5ae511b4ef21bde0943cce86f0cee6cf914e21a6ea7ff9670f14e41cab1cef30.svg#icon-bitbucket"></use>
</svg>

        </a>
      </li>
    
    
      <li>
        <a href="https://stackoverflow.com/users/howardpanton"
          rel="noreferrer noopener" target="_blank" title="Stack Overflow">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-stackoverflow">
  <use href="/assets/stackoverflow-12ba59133ed134d26156d30f095e0222b6039395cf26f2fab0cb6ce3ef2db00d.svg#icon-stackoverflow" xlink:href="/assets/stackoverflow-12ba59133ed134d26156d30f095e0222b6039395cf26f2fab0cb6ce3ef2db00d.svg#icon-stackoverflow"></use>
</svg>

        </a>
      </li>
    
    
    
      <li>
        <a href="https://hub.docker.com/r/howardpanton"
          rel="noreferrer noopener" target="_blank" title="Docker Hub">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-docker">
  <use href="/assets/docker-c339e74d6b786fbde73b16d23c150b731f34e6afba1693051596237af7ff9f2d.svg#icon-docker" xlink:href="/assets/docker-c339e74d6b786fbde73b16d23c150b731f34e6afba1693051596237af7ff9f2d.svg#icon-docker"></use>
</svg>

        </a>
      </li>
    
    
      <li>
        <a href="https://www.linkedin.com/in/howardpanton"
          rel="noreferrer noopener" target="_blank" title="LinkedIn">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-linkedin">
  <use href="/assets/linkedin-cdc5c107044324a3dfbea2e9ead15873f8dee304c37d73a046988956b706256e.svg#icon-linkedin" xlink:href="/assets/linkedin-cdc5c107044324a3dfbea2e9ead15873f8dee304c37d73a046988956b706256e.svg#icon-linkedin"></use>
</svg>

        </a>
      </li>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
      <li>
        <a href="/feed.xml" rel="noreferrer noopener"
          target="_blank" title="RSS">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-rss">
  <use href="/assets/rss-541ec5cea9cefd10d2fcfec01888f3f231a8829940249835fa7b7b3a12ae0d0d.svg#icon-rss" xlink:href="/assets/rss-541ec5cea9cefd10d2fcfec01888f3f231a8829940249835fa7b7b3a12ae0d0d.svg#icon-rss"></use>
</svg>

        </a>
      </li>
    
  </ul>
</nav>


        <article class="article scrollappear">
          <header class="article-header">
            <h1>Getting started with local web development using Docker on the Mac</h1>
            <p>Docker makes it easier to create a scalable local web development environment.</p>
            <div class="article-list-footer">
              <span class="article-list-date">
                December 23, 2017
              </span>
              <span class="article-list-divider">-</span>
              <span class="article-list-minutes">
                
                
                  4 minute read
                
              </span>
              <span class="article-list-divider">-</span>
              <div class="article-list-tags">
                
                  <a href="/tag/web">web</a>
                
                  <a href="/tag/mac">mac</a>
                
                  <a href="/tag/docker">docker</a>
                
              </div>
            </div>
          </header>

          <div class="article-content">
            <p><a href="/assets/docker-app-drag-fcd65a0a9ddaf9ee7f600c0431ce33491263e154250c823a12e7a65bd0260d26.png" data-rjs="/assets/docker-app-drag-fcd65a0a9ddaf9ee7f600c0431ce33491263e154250c823a12e7a65bd0260d26.png" class="fluidbox-trigger">
  <img src="/assets/docker-app-drag-fcd65a0a9ddaf9ee7f600c0431ce33491263e154250c823a12e7a65bd0260d26.png" alt="Install Docker" />
</a></p>

<p><a href="https://docs.docker.com/docker-for-mac/install/">Download Docker for Mac</a></p>

<h2 id="prequisites">Prequisites</h2>

<ul>
  <li><a href="https://github.com/angular/angular-cli">Angular Cli</a></li>
  <li><a href="https://nodejs.org/en/download/">Node.js and NPM</a></li>
</ul>

<h2 id="getting-started">Getting started</h2>

<p>When I started working in Web Development back in 1996, there weren’t many
suitable apps for setting up a local web environment. One of the first Apps I
used was Macromedia Dreamweaver, it was web development at it’s most basic.</p>

<p>When <a href="https://www.mamp.info/en/">MAMP</a> came out on the Mac,
it changed everything, it allowed me to run a local LAMP stack at a click of the button.
From <a href="https://www.mamp.info/en/">MAMP</a> I moved on to use
<a href="https://www.vagrantup.com/downloads.html">Vagrant</a> and
<a href="https://www.virtualbox.org/">Virtual Box</a>, which needed more configuration
than <a href="https://www.mamp.info/en/">MAMP</a> but gave me better control of my local
infrastructure (make sure you have <a href="https://docs.docker.com/docker-for-mac/install/">Docker</a>
installed):</p>

<p>This tutorial will get you up and running with Angular and Docker
to create a small web application.</p>

<h2 id="what-is-docker">What is Docker</h2>

<p>Docker enables you to run your application in containers. This means that your
web application and all dependencies - can be packaged and easily moved from one
system to another.</p>

<p>Docker fits nicely within modern front-end development workflows. You can package
your Dockerfile and other files right with the code of your project and check it
into source control. This makes moving your development to another machine so much
easier, and it also makes sharing your development environment with your team easier.</p>

<h2 id="installation">Installation</h2>

<p>Hopefully you’ve installed Docker, you can test the installation by running.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>docker <span class="nt">--version</span>
Docker version 17.12.0-ce, build c97c6d6</code></pre></figure>

<p>You should see the version number of your Docker build. Before we get in to setting
up a web server, we will do a quick test and run the standard ‘Hello World’ Docker
Image.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">docker run hello-world</code></pre></figure>

<p>You should see the following in your terminal.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">Unable to find image <span class="s1">'hello-world:latest'</span> locally
latest: Pulling from library/hello-world
ca4f61b1923c: Pull <span class="nb">complete
</span>Digest: sha256:ca0eeb6fb05351dfc8759c20733c91def84cb8007aa89a5bf606bc8b315b9fc7
Status: Downloaded newer image <span class="k">for </span>hello-world:latest

Hello from Docker!
This message shows that your installation appears to be working correctly.
...</code></pre></figure>

<p>Now that you have Docker running and working correctly we will move on to get our
cool new app up and running.
So let’s get started, I usually keep all my projects in a single folder on my
Mac called <code class="highlighter-rouge">Sites</code>. In your <code class="highlighter-rouge">Sites</code> folder create a new Angular project by
running the following command.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">ng new docker-app</code></pre></figure>

<h2 id="development">Development</h2>

<p>I’m not going to go into detail about setting up Angular, I will cover Angular in
depth in a separate post.</p>

<p>Let’s run the Angular local development server to check everything is working.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">ng serve <span class="nt">-o</span></code></pre></figure>

<h2 id="adding-docker">Adding Docker</h2>

<p>So we now have Angular up and running, we’ve downloaded Docker and tested it locally.
The next step is to create a Dockerfile. A Dockerfile defines what goes in the environment inside the container. In the root of your application directory, create a file called <code class="highlighter-rouge">Dockerfile</code> and add the following to the file and save it.</p>

<p><a href="https://gist.github.com/howardpanton/1d2c5b6ed152342ee53cc64326f6334c">Download Dockerfile</a></p>

<figure class="highlight"><pre><code class="language-yml" data-lang="yml"><span class="c1"># Pull the latest Node image from Docker</span>
<span class="s">FROM node:latest</span>

<span class="c1"># Copy the current directory contents into the container at /app</span>
<span class="s">COPY ./ /app/</span>

<span class="c1"># Set the working directory to /app</span>
<span class="s">WORKDIR /app</span>

<span class="c1"># Install Node Modules</span>
<span class="s">RUN npm install</span>

<span class="c1"># Make port 4200 available to the world outside this container</span>
<span class="s">EXPOSE 4200/tcp</span>

<span class="c1"># Start Angular in Watch mode</span>
<span class="s">CMD ["npm", "start", "--", "--host", "0.0.0.0", "--poll", "500"]</span></code></pre></figure>

<h2 id="build-the-app">Build the App</h2>

<p>We are ready to build the app. Now run the build command. This creates a Docker
image, which we are going to tag using -t so it has the name <code class="highlighter-rouge">docker-app</code>.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">docker build <span class="nt">-t</span> docker-app .</code></pre></figure>

<h2 id="run-the-app">Run the App</h2>

<p>Now we can run the app, mapping your machine’s port 4200 to the container’s
published port 4200 using -p:. The machines port is  configured in the <code class="highlighter-rouge">Dockerfile</code>.
The <code class="highlighter-rouge">-rm</code> flag is used to remove the anonymous volume when the image is detached.</p>

<p>We will also mount the volume of our local <code class="highlighter-rouge">src</code> directory using the <code class="highlighter-rouge">-v</code> command.
Now any updates we make locally will be made on the Docker container.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">docker run <span class="nt">-it</span> <span class="nt">--rm</span> <span class="nt">-p</span> 4200:4200 <span class="nt">-v</span> <span class="nv">$PWD</span>/src:/app/src docker-app</code></pre></figure>

<p>You should be able to see the Angular app running by visiting <code class="highlighter-rouge">localhost:4200</code>
in your browser.</p>

<p><a href="/assets/docker-angular-app-976e39f9e7e8f7d4063bfeb093d31a47a12ab59a6963bf7d1334a43b89c8c33c.png" data-rjs="/assets/docker-angular-app-976e39f9e7e8f7d4063bfeb093d31a47a12ab59a6963bf7d1334a43b89c8c33c.png" class="fluidbox-trigger">
  <img src="/assets/docker-angular-app-976e39f9e7e8f7d4063bfeb093d31a47a12ab59a6963bf7d1334a43b89c8c33c.png" alt="Angular app running" />
</a></p>

<p>You can check to see what containers are running by using the <code class="highlighter-rouge">container ls</code>
command, you should see <code class="highlighter-rouge">docker-app</code>running.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">~ docker container <span class="nb">ls
</span>CONTAINER ID        IMAGE               COMMAND                  CREATED
8ce32b2ed379        docker-app          <span class="s2">"npm start -- --host…"</span>   9 hours ago</code></pre></figure>

<p>You can now use  the <code class="highlighter-rouge">docker container stop</code> command  to end the process,
using the CONTAINER ID.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">docker container stop 8ce32b2ed379</code></pre></figure>

<h2 id="next-steps">Next steps</h2>

<p>So we’ve created a simple Angular app which runs in a Docker container, we can
expand the app by adding a service, add aditional containers using <code class="highlighter-rouge">docker-compose</code>.</p>

<p>We could also add a database container, a Rest API and create a MEAN stack for
local development.</p>

<p><a href="https://github.com/howardpanton/docker-app">Docker App Guthub Repo</a></p>

          </div>
          <div class="article-share">
            
            
            <a href="https://twitter.com/home?status=Getting+started+with+local+web+development+using+Docker+on+the+Mac%20-%20http://localhost:4000/posts/dockerizing-mac-local-development%20by%20@howardpanton" title="Share on Twitter" rel="noreferrer noopener" target="_blank">
              <svg viewBox="0 0 512 512"><path d="M492 109.5c-17.4 7.7-36 12.9-55.6 15.3 20-12 35.4-31 42.6-53.6 -18.7 11.1-39.4 19.2-61.5 23.5C399.8 75.8 374.6 64 346.8 64c-53.5 0-96.8 43.4-96.8 96.9 0 7.6 0.8 15 2.5 22.1 -80.5-4-151.9-42.6-199.6-101.3 -8.3 14.3-13.1 31-13.1 48.7 0 33.6 17.2 63.3 43.2 80.7C67 210.7 52 206.3 39 199c0 0.4 0 0.8 0 1.2 0 47 33.4 86.1 77.7 95 -8.1 2.2-16.7 3.4-25.5 3.4 -6.2 0-12.3-0.6-18.2-1.8 12.3 38.5 48.1 66.5 90.5 67.3 -33.1 26-74.9 41.5-120.3 41.5 -7.8 0-15.5-0.5-23.1-1.4C62.8 432 113.7 448 168.3 448 346.6 448 444 300.3 444 172.2c0-4.2-0.1-8.4-0.3-12.5C462.6 146 479 129 492 109.5z"/></svg>
            </a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/posts/dockerizing-mac-local-development" title="Share on Facebook" rel="noreferrer noopener" target="_blank">
              <svg viewBox="0 0 512 512"><path d="M288 192v-38.1c0-17.2 3.8-25.9 30.5-25.9H352V64h-55.9c-68.5 0-91.1 31.4-91.1 85.3V192h-45v64h45v192h83V256h56.4l7.6-64H288z"/></svg>
            </a>
            <a href="https://plus.google.com/share?url=http://localhost:4000/posts/dockerizing-mac-local-development" title="Share on Google+" rel="noreferrer noopener" target="_blank">
              <svg viewBox="0 0 128 128"><path d="M40.7 55.9v16.1c0 0 15.6 0 22 0C59.2 82.5 53.8 88.2 40.7 88.2c-13.3 0-23.7-10.8-23.7-24.2s10.4-24.2 23.7-24.2c7.1 0 11.6 2.5 15.8 5.9 3.3-3.3 3.1-3.8 11.6-11.9 -7.2-6.6-16.8-10.6-27.4-10.6C18.2 23.3 0 41.5 0 64c0 22.5 18.2 40.7 40.7 40.7 33.6 0 41.8-29.3 39-48.8H40.7zM113.9 56.7V42.6h-10.1v14.1H89.4v10.1h14.5v14.5h10.1V66.8H128V56.7H113.9z"/></svg>
            </a>
          </div>

          
        </article>
        <footer class="footer scrollappear">
</footer>

      </div>
    </div>
  </main>
  

<script type="text/javascript" src="/assets/vendor-2e5becc015a837c852edabccbc32f5a390d4afa7a2ca601db948ea5b9e50292a.js"></script>


  <script type="text/javascript" src="/assets/webfonts-e3010885de8c083c4b2935d463b1649e8796191a66a1b43bb87ef04bbcce420d.js"></script>



  <script type="text/javascript" src="/assets/scrollappear-e2da8ea567e418637e31266cc5302126eaa79f62a2273739086358b589a89ee6.js"></script>


<script type="text/javascript" src="/assets/application-cd43a7f9bd8a08997bb19229cd040e7129ede0a1adf77c693b5835c9f8c2a4b1.js"></script>

</body>
</html>
